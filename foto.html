<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–§–æ—Ç–æ–≥—Ä–∞—Ñ –≤ –¥–∂—É–Ω–≥–ª—è—Ö (Hardcore)</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #0a2d0a; /* –¥–∂—É–Ω–≥–ª–∏ */
    overflow: hidden;
    color: white;
  }

  #exitBtn {
    position: absolute;
    top: 10px;
    left: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: none;
    border-radius: 8px;
    background-color: #f44336;
    color: white;
    z-index: 1000;
  }

  #score {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 1px 1px 2px #000;
  }

  #gameArea {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  .animal {
    position: absolute;
    font-size: 48px;
    cursor: pointer;
    transition: transform 0.1s;
    z-index: 2;
  }

  .animal:hover {
    transform: scale(1.3) rotate(10deg);
  }

  .tree {
    position: absolute;
    bottom: 0;
    width: 80px;
    height: 150px;
    background: url('https://i.imgur.com/KXo4iIa.png') no-repeat center bottom;
    background-size: contain;
    z-index: 1;
  }

  #cameraEffect {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: black;
    border: 5px solid white;
    display: none;
    z-index: 999;
  }
</style>
</head>
<body>

<button id="exitBtn" onclick="location.href='index.html'">–í—ã–π—Ç–∏</button>
<div id="score">–°—á–µ—Ç: 0</div>
<div id="gameArea"></div>
<div id="cameraEffect"></div>

<script>
const gameArea = document.getElementById('gameArea');
const scoreDisplay = document.getElementById('score');
const cameraEffect = document.getElementById('cameraEffect');
let score = 0;
let gameOver = false;

// –î–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ä–µ–≤—å—è –Ω–∞ —Ñ–æ–Ω–µ
function createTrees(count=7){
  for(let i=0; i<count; i++){
    const tree = document.createElement('div');
    tree.classList.add('tree');
    tree.style.left = Math.random()*(window.innerWidth-80) + 'px';
    tree.style.height = 100 + Math.random()*100 + 'px';
    tree.style.width = parseFloat(tree.style.height)*0.5 + 'px';
    gameArea.appendChild(tree);
  }
}
createTrees();

// –ñ–∏–≤–æ—Ç–Ω—ã–µ
const animals = [
  {icon: 'üê∂', points: 1, baseSpeed: 3},
  {icon: 'üê±', points: 1, baseSpeed: 3},
  {icon: 'üêº', points: 2, baseSpeed: 4},
  {icon: 'ü¶Å', points: 3, baseSpeed: 5},
  {icon: 'üêØ', points: 3, baseSpeed: 5},
  {icon: 'ü¶ä', points: 2, baseSpeed: 4}
];

function createAnimal() {
  if(gameOver) return; // –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞
  const animalData = animals[Math.floor(Math.random()*animals.length)];
  const animal = document.createElement('div');
  animal.classList.add('animal');
  animal.textContent = animalData.icon;

  animal.style.left = '-60px';
  animal.style.top = Math.random()*(window.innerHeight-60) + 'px';
  gameArea.appendChild(animal);

  let pos = -60;
  const speed = animalData.baseSpeed + Math.random()*2; 
  const move = setInterval(() => {
    pos += speed;
    animal.style.left = pos + 'px';
    if(pos > window.innerWidth) {
      clearInterval(move);
      if(!gameOver){
        gameOver = true;
        alert('–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –í–∞—à —Å—á–µ—Ç: ' + score);
        location.reload(); // –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
      }
    }
  }, 16);

  animal.addEventListener('click', () => {
    if(gameOver) return;
    score += animalData.points;
    scoreDisplay.textContent = '–°—á–µ—Ç: ' + score;
    animal.remove();
    clearInterval(move);

    // –≠—Ñ—Ñ–µ–∫—Ç –∫–∞–º–µ—Ä—ã –Ω–∞ 0.5 —Å–µ–∫—É–Ω–¥—ã
    cameraEffect.style.display = 'block';
    setTimeout(() => cameraEffect.style.display = 'none', 500);
  });
}

// –ñ–∏–≤–æ—Ç–Ω—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 1,2 —Å–µ–∫—É–Ω–¥—ã
setInterval(createAnimal, 1200);
</script>

</body>
</html>
